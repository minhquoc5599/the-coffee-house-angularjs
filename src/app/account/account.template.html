<div class="mt-3">
  <a href="/admin/home" style="text-decoration: underline;">Home</a> > <span>Account Management</span>
</div>
<div class="mt-3 d-flex justify-content-between">
  <span style="text-transform: uppercase; ">Account Management</span>
  <div style="margin: 0">
    <input type="text" placeholder="Search" ng-model="search">

    <button type="button">Add</button>

    <button ng-click="reloadAccount()">
      <i class="fas fa-sync"></i>
    </button>
  </div>
</div>
<table class="table table-striped table-bordered mt-3">
  <thead>
    <tr>
      <th scope="col" ng-click="sort('name')" class="sort-table">Name
        <i ng-show="sortKey==='name'" ng-class="{'fas fa-chevron-up':reverse,'fas fa-chevron-down': !reverse}"></i>
      </th>
      <th scope="col" ng-click="sort('gender')" class="sort-table">Gender
        <i ng-show="sortKey==='gender'" ng-class="{'fas fa-chevron-up':reverse,'fas fa-chevron-down': !reverse}"></i>
      </th>
      <th scope="col" ng-click="sort('role')" class="sort-table">Role
        <i ng-show="sortKey==='role'" ng-class="{'fas fa-chevron-up':reverse,'fas fa-chevron-down': !reverse}"></i>
      </th>
      <th scope="col" ng-click="sort('phone')" class="sort-table">Phone
        <i ng-show="sortKey==='phone'" ng-class="{'fas fa-chevron-up':reverse,'fas fa-chevron-down': !reverse}"></i>
      </th>
      <th scope="col" ng-click="sort('email')" class="sort-table">Email
        <i ng-show="sortKey==='email'" ng-class="{'fas fa-chevron-up':reverse,'fas fa-chevron-down': !reverse}"></i>
      </th>
      <th scope="col">Action</th>
    </tr>
  </thead>
  <tbody>
    <tr
      ng-repeat="account in accounts | AccountsFilter: (currentPage-1)*pageSize | filter: search | orderBy: sortKey: reverse | limitTo: pageSize">
      <th scope="row">{{account.name}}</th>
      <td>{{account.gender}}</td>
      <td>{{account.role}}</td>
      <td>{{account.phone}}</td>
      <td>{{account.email}}</td>
      <td class="btn-action">
        <!-- Update account start-->
        <button class="btn--edit" type="button" data-toggle="modal" data-target="#update{{account.id}}"
          ng-click="showAccount(account)"><i class="fas fa-edit"></i></button>
        <!-- Update Account Modal -->
        <div class="modal fade" id="update{{account.id}}" tabindex="-1" role="dialog"
          aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Update Account</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <!-- Form update -->
              <form ng-submit="updateAccount()" name="formUpdateAccount">
                <div class="modal-body">
                  <div class="form-group row">
                    <label for="inputEmail" class="col-sm-2 col-form-label">Email</label>
                    <div class="col-sm-10">
                      <input type="email" class="form-control" ng-model="cloneAccount.email" required>
                    </div>
                  </div>
                  <div class="form-group row">
                    <label for="inputName" class="col-sm-2 col-form-label">Name</label>
                    <div class="col-sm-10">
                      <input type="text" class="form-control" ng-model="cloneAccount.name" required>
                    </div>
                  </div>
                  <fieldset class="form-group">
                    <div class="row">
                      <legend class="col-form-label col-sm-2 pt-0">Gender</legend>
                      <div class="col-sm-10">
                        <div class="form-check-inline">
                          <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios1"
                            ng-model="cloneAccount.gender" value="Male" ng-checked="cloneAccount.gender==='Male'">
                          <label class="form-check-label" for="gridRadios1">
                            Male
                          </label>
                        </div>
                        <div class="form-check-inline">
                          <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios1"
                            ng-model="cloneAccount.gender" value="Female" ng-checked="cloneAccount.gender==='Female'">
                          <label class="form-check-label" for="gridRadios1">
                            Female
                          </label>
                        </div>
                      </div>
                    </div>
                  </fieldset>

                  <div class="form-group row">
                    <label for="inputRole" class="col-sm-2 col-form-label">Role</label>
                    <div class="col-sm-10">
                      <select class="custom-select mr-sm-2" id="inlineFormCustomSelect" ng-model="cloneAccount.role">
                        <option value="admin">Admin</option>
                        <option value="user">User</option>
                        <option value="saler">Saler</option>
                      </select>
                    </div>
                  </div>

                  <div class="form-group row">
                    <label for="inputPhone" class="col-sm-2 col-form-label">Phone</label>
                    <div class="col-sm-10">
                      <input type="text" class="form-control" ng-model="cloneAccount.phone" required>
                    </div>
                  </div>

                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary-modal" data-dismiss="modal">Cancel</button>
                  <button type="submit" class="btn btn-primary-modal"
                    ng-disabled="formUpdateAccount.$invalid">Ok</button>
                </div>
              </form>
            </div>
          </div>
        </div>

        <!-- Update account end -->

        <!-- Delete Account start-->
        <button class="btn--delete"><i class="fas fa-trash-alt" type="button" data-toggle="modal"
            data-target="#delete{{account.id}}"></i></button>
        <!-- Modal Delete Account -->
        <div class="modal fade" id="delete{{account.id}}" tabindex="-1" role="dialog"
          aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Delete Account</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <h5>Are you sure you want to delete account {{account.name}}?</h5>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary-modal" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary-modal" ng-click="deleteAccount(account.id)"
                  data-dismiss="modal">Ok</button>
              </div>
            </div>
          </div>
        </div>
        <!-- Delete account end -->
      </td>
    </tr>
  </tbody>
</table>
<div class="d-flex justify-content-between align-items-center">
  <span>Showing {{pageSize}} items</span>
  <!-- Paginationn start -->
  <ul class="pagination d-flex justify-content-between">
    <li class="ml-1">
      <button class="pagination__button" ng-disabled="currentPage === 1" ng-click="currentPage=1">
        <i class="ti-angle-double-left pagination__button-icon"></i>
      </button>
    </li>
    <li class="ml-1">
      <button class="pagination__button" ng-disabled="currentPage === 1" ng-click="currentPage=currentPage-1">
        <i class="ti-angle-left pagination__button-icon"></i>
      </button>
    </li>
    <li class="ml-1">
      <span>{{currentPage}}</span>
    </li>
    <li class="ml-1">
      <button class="pagination__button" ng-disabled="currentPage>=accounts.length/pageSize"
        ng-click="currentPage=currentPage+1">
        <i class="ti-angle-right pagination__button-icon"></i>
      </button>
    </li>
    <li class="ml-1">
      <button class="pagination__button" ng-disabled="currentPage>=accounts.length/pageSize"
        ng-click="currentPage=accounts.length/pageSize">
        <i class="ti-angle-double-right pagination__button-icon"></i>
      </button>
    </li>
  </ul>
  <!-- Pagination end -->
</div>